{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport io from 'socket.io-client';\nlet socket = null;\nexport const useSocket = () => {\n  _s();\n  const [isConnected, setIsConnected] = useState(false);\n  useEffect(() => {\n    if (!socket) {\n      socket = io('http://localhost:5000', {\n        transports: ['websocket'],\n        autoConnect: true\n      });\n      socket.on('connect', () => {\n        setIsConnected(true);\n        console.log('Connected to Python backend');\n      });\n      socket.on('disconnect', () => {\n        setIsConnected(false);\n        console.log('Disconnected from Python backend');\n      });\n      socket.on('voice_response', data => {\n        console.log('Voice response received:', data);\n      });\n      socket.on('command_executed', data => {\n        console.log('Command executed:', data);\n      });\n      socket.on('error', error => {\n        console.error('Socket error:', error);\n      });\n    }\n    return () => {\n      if (socket) {\n        socket.disconnect();\n        socket = null;\n      }\n    };\n  }, []);\n  const sendVoiceCommand = command => {\n    if (socket && isConnected) {\n      socket.emit('voice_command', {\n        command\n      });\n    }\n  };\n  const executeQuickAction = action => {\n    if (socket && isConnected) {\n      socket.emit('quick_action', {\n        action\n      });\n    }\n  };\n  return {\n    socket,\n    isConnected,\n    sendVoiceCommand,\n    executeQuickAction\n  };\n};\n_s(useSocket, \"X8xpX3k6aXdyWkMXjkSdizyzA6Y=\");","map":{"version":3,"names":["useState","useEffect","io","socket","useSocket","_s","isConnected","setIsConnected","transports","autoConnect","on","console","log","data","error","disconnect","sendVoiceCommand","command","emit","executeQuickAction","action"],"sources":["C:/Users/hassa/OneDrive/Desktop/logiciel/web-ui/src/hooks/useSocket.js"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport io from 'socket.io-client';\r\n\r\nlet socket = null;\r\n\r\nexport const useSocket = () => {\r\n  const [isConnected, setIsConnected] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!socket) {\r\n      socket = io('http://localhost:5000', {\r\n        transports: ['websocket'],\r\n        autoConnect: true,\r\n      });\r\n\r\n      socket.on('connect', () => {\r\n        setIsConnected(true);\r\n        console.log('Connected to Python backend');\r\n      });\r\n\r\n      socket.on('disconnect', () => {\r\n        setIsConnected(false);\r\n        console.log('Disconnected from Python backend');\r\n      });\r\n\r\n      socket.on('voice_response', (data) => {\r\n        console.log('Voice response received:', data);\r\n      });\r\n\r\n      socket.on('command_executed', (data) => {\r\n        console.log('Command executed:', data);\r\n      });\r\n\r\n      socket.on('error', (error) => {\r\n        console.error('Socket error:', error);\r\n      });\r\n    }\r\n\r\n    return () => {\r\n      if (socket) {\r\n        socket.disconnect();\r\n        socket = null;\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const sendVoiceCommand = (command) => {\r\n    if (socket && isConnected) {\r\n      socket.emit('voice_command', { command });\r\n    }\r\n  };\r\n\r\n  const executeQuickAction = (action) => {\r\n    if (socket && isConnected) {\r\n      socket.emit('quick_action', { action });\r\n    }\r\n  };\r\n\r\n  return {\r\n    socket,\r\n    isConnected,\r\n    sendVoiceCommand,\r\n    executeQuickAction,\r\n  };\r\n}; "],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC3C,OAAOC,EAAE,MAAM,kBAAkB;AAEjC,IAAIC,MAAM,GAAG,IAAI;AAEjB,OAAO,MAAMC,SAAS,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC7B,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGP,QAAQ,CAAC,KAAK,CAAC;EAErDC,SAAS,CAAC,MAAM;IACd,IAAI,CAACE,MAAM,EAAE;MACXA,MAAM,GAAGD,EAAE,CAAC,uBAAuB,EAAE;QACnCM,UAAU,EAAE,CAAC,WAAW,CAAC;QACzBC,WAAW,EAAE;MACf,CAAC,CAAC;MAEFN,MAAM,CAACO,EAAE,CAAC,SAAS,EAAE,MAAM;QACzBH,cAAc,CAAC,IAAI,CAAC;QACpBI,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC;MAC5C,CAAC,CAAC;MAEFT,MAAM,CAACO,EAAE,CAAC,YAAY,EAAE,MAAM;QAC5BH,cAAc,CAAC,KAAK,CAAC;QACrBI,OAAO,CAACC,GAAG,CAAC,kCAAkC,CAAC;MACjD,CAAC,CAAC;MAEFT,MAAM,CAACO,EAAE,CAAC,gBAAgB,EAAGG,IAAI,IAAK;QACpCF,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEC,IAAI,CAAC;MAC/C,CAAC,CAAC;MAEFV,MAAM,CAACO,EAAE,CAAC,kBAAkB,EAAGG,IAAI,IAAK;QACtCF,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAEC,IAAI,CAAC;MACxC,CAAC,CAAC;MAEFV,MAAM,CAACO,EAAE,CAAC,OAAO,EAAGI,KAAK,IAAK;QAC5BH,OAAO,CAACG,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;MACvC,CAAC,CAAC;IACJ;IAEA,OAAO,MAAM;MACX,IAAIX,MAAM,EAAE;QACVA,MAAM,CAACY,UAAU,CAAC,CAAC;QACnBZ,MAAM,GAAG,IAAI;MACf;IACF,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMa,gBAAgB,GAAIC,OAAO,IAAK;IACpC,IAAId,MAAM,IAAIG,WAAW,EAAE;MACzBH,MAAM,CAACe,IAAI,CAAC,eAAe,EAAE;QAAED;MAAQ,CAAC,CAAC;IAC3C;EACF,CAAC;EAED,MAAME,kBAAkB,GAAIC,MAAM,IAAK;IACrC,IAAIjB,MAAM,IAAIG,WAAW,EAAE;MACzBH,MAAM,CAACe,IAAI,CAAC,cAAc,EAAE;QAAEE;MAAO,CAAC,CAAC;IACzC;EACF,CAAC;EAED,OAAO;IACLjB,MAAM;IACNG,WAAW;IACXU,gBAAgB;IAChBG;EACF,CAAC;AACH,CAAC;AAACd,EAAA,CA3DWD,SAAS","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}